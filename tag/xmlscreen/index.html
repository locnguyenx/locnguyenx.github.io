<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Posts tagged &amp;ldquo;xmlscreen&amp;rdquo;</title> <meta name="description" content="A place to record & share my notes..."> <meta name="author" content="locnx"> <meta name="keywords" content="moqui, banking, erp, order, inventory, github, jekyll" /> <meta name="HandheldFriendly" content="True"> <meta name="robots" content="index,follow"> <meta name="googlebot" content="index,follow"> <!-- Open Graph data --> <meta property="og:title" content="Posts tagged &amp;ldquo;xmlscreen&amp;rdquo;" /> <meta property="og:type" content="article" /> <meta property="og:site_name" content="LocNguyenX" /> <meta property="og:description" content="A place to record & share my notes..." /> <meta property="og:url" content="/tag/xmlscreen/" /> <meta property="article:author" content="http://www.locxng.com/about" /> <link rel="author" href="http://www.locxng.com/about" /> <!-- End: Open Graph data --> <!-- prefetch font --> <link rel="dns-prefetch" href="//ajax.googleapis.com"> <!-- canonical url --> <link rel="canonical" href="http://www.locxng.com/tag/xmlscreen/"> <!-- Favicon --> <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" /> <!-- main css --> <link href="/css/main.css" rel="stylesheet"> <!-- font --> <link href='https://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'> <!-- feed --> <link rel="alternate" type="application/rss+xml" title="LocNguyenX" href="http://www.locxng.com/feed.xml"> <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries --> <!-- WARNING: Respond.js doesn't work if you view the page via file:// --> <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script> <![endif]--> </head> <body> <div id="wrapper"> <!-- Sidebar --> <div id="sidebar-wrapper"> <ul class="sidebar-nav"> <li class="sidebar-brand"> <h1> <a class="page-nav" href="/">LocNguyenX</a> </h1> </li> <li> <a class="page-nav" href="/about/">About</a> </li> <li> <a class="page-nav" href="/categories/">Categories</a> </li> <li> <a class="page-nav" href="/tag/">Tags</a> </li> <li> <a class="page-nav" href="/archive/">Archive</a> </li> <li> <a class="page-nav" href="/search/">Search</a> </li> <li class="sidebar-tag"> <!-- Tags of Site --> <a href="/tag/ci">#ci</a> <a href="/tag/continous-integration">#continous-integration</a> <a href="/tag/github">#github</a> <a href="/tag/gitlab">#gitlab</a> <a href="/tag/jekyll">#jekyll</a> <a href="/tag/linux">#linux</a> <a href="/tag/markdown">#markdown</a> <a href="/tag/moqui">#moqui</a> <a href="/tag/xmlform">#xmlform</a> <a href="/tag/xmlscreen">#xmlscreen</a> </li> </ul> </div> <!-- /#sidebar-wrapper --> <!-- Page Content --> <div id="page-content-wrapper"> <a href="#" id="menu-toggle" style="position:fixed;margin-left: -10px;"> <svg style="width: 25px" viewBox="0 0 18 15"> <path fill="#003366" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/> <path fill="#003366" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/> <path fill="#003366" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/> </svg> </a> <div class="container-fluid"> <h3 class="page-header">Posts tagged &ldquo;xmlscreen&rdquo;</h3> <section class="page-content" id="tag_index"> <article itemscope itemtype="http://schema.org/BlogPosting"> <header> <h1 class="post-title" itemprop="name headline"><a href="/moqui-screen-form/">Moqui Screen and Form</a> </h1> </header> <section class="post-meta"> <time datetime="2016-09-08T00:00:00+07:00" itemprop="datePublished">Sep 8, 2016</time> • <span>#moqui</span> <span>#xmlscreen</span> <span>#xmlform</span> </section> <section id="post-excerpt" class="post-content" itemprop="articleBody"> <p><h1 id="toc">TOC</h1> <!-- MarkdownTOC depth="2" --> <ul> <li><a href="#overview">Overview</a></li> <li><a href="#working-with-xmlscreen">Working with XMLScreen</a> <ul> <li><a href="#form-validation">Form validation</a></li> <li><a href="#form-extends">Form extends</a></li> <li><a href="#manipulate-error-message">Manipulate Error Message</a></li> <li><a href="#build-a-complex-screen">Build a complex screen</a></li> <li><a href="#reuse-screen-components">Reuse screen components</a></li> </ul> </li> <li><a href="#brief-of-screen-components">Brief of Screen components</a> <ul> <li><a href="#screen-root">screen (root)</a></li> <li><a href="#transition">transition</a></li> <li><a href="#subscreens">subscreens</a></li> <li><a href="#subscreens-menu">subscreens-menu</a></li> <li><a href="#widgets">widgets</a></li> </ul> </li> <li><a href="#brief-of-form-elements">Brief of Form elements</a> <ul> <li><a href="#common-elements">Common elements</a></li> <li><a href="#form-single">form-single</a></li> <li><a href="#form-list">form-list</a></li> </ul> </li> </ul> <!-- /MarkdownTOC --> <h1 id="overview">Overview</h1> <p>This document will focus to design Moqui XMLScreen including Form, manipulation Screen flow &amp; prensentation logic.</p> <p><strong>Related Schemas</strong></p> <div class="highlighter-rouge"><pre class="highlight"><code>- common-types-2.0.xsd: http://moqui.org/xsd/common-types-2.0.xsd
- xml-actions-2.0.xsd: http://moqui.org/xsd/xml-actions-2.0.xsd
- xml-form-2.0.xsd: http://moqui.org/xsd/xml-screen-2.0.xsd
</code></pre></div> <h1 id="working-with-xmlscreen">Working with XMLScreen</h1> <h2 id="form-validation">Form validation</h2> <h3 id="processing-rules">Processing Rules</h3> <p><strong>By Service:</strong></p> <p>System has 2 options to validate the form fields:</p> <ol> <li>If <strong>transition</strong> of the form has a <code class="highlighter-rouge">singleServiceName</code> (has <service-call> tag, instead of multiple service call in <actions> tag) </actions></service-call> <ul> <li>If <code class="highlighter-rouge">singleServiceName</code> is used-defined type, system will validate form field against respected in-paramater of <code class="highlighter-rouge">singleServiceName</code></li> <li>Otherwise (<code class="highlighter-rouge">singleServiceName</code> is entity-auto type), will validate against Entity fields</li> </ul> </li> <li>Otherwise, use <auto-fields-service service-name="name"> definition of the form Add more attribute into field definition: </auto-fields-service> <ul> <li>validate-service: service-name</li> <li>validate-parameter: name of respected service parameter</li> </ul> </li> </ol> <p>Notes: if service-name is a Entity-Auto service, then the rule of <code class="highlighter-rouge">auto-fields-entity</code> will be used</p> <p><strong>By Entity:</strong></p> <p>Using following tag inside the form definition: &lt; auto-fields-entity entity-name=’Name of Entity to generate fields automatically for form’/&gt;</p> <p>Underlying, system will addd more attribute into field definition: - validate-entity: entity-name - validate-parameter: fullname of respected Entity field</p> <p><strong>How it works:</strong></p> <p>Processing is done in <code class="highlighter-rouge">ScreenForm.groovy</code></p> <ol> <li> <p>While rebuild <strong>form definition</strong>, system will check if either following tag is existing: <strong>auto-fields-service</strong>/<strong>auto-fields-entity</strong>, then add attribute <code class="highlighter-rouge">validate-service</code> or <code class="highlighter-rouge">validate-entiy</code> respectly into each <strong>field definition</strong></p> </li> <li>Checking form <strong>transition</strong>: populate <strong>validate-service</strong> and <strong>validate-entity</strong> attributes if the target transition calls a single service, override attributes from previous steps <ol> <li>if the field matches an in-parameter name, then set: <code class="highlighter-rouge"> fieldNode.attributes().put("validate-service", singleServiceName) </code></li> <li>if transition service is AutoEntityService, if the field matches an entity field name then set it: <code class="highlighter-rouge"> fieldNode.attributes().put("validate-entity", entityName) </code></li> </ol> </li> <li>Build field validate Node Get Node information for validation rule from corresponding field in service/ entity and copy into current form field. Method: MNode getFieldValidateNode(String fieldName) for Service: <code class="highlighter-rouge">Node parameterNode = sd.getInParameter((String) fieldNode.attribute('validate-parameter') ?: fieldName)</code> for Entity: <code class="highlighter-rouge">Node efNode = ed.getFieldNode((String) fieldNode.attribute('validate-field') ?: fieldName)</code></li> </ol> <h3 id="example">Example</h3> <p><strong>Sample form definition</strong></p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;container-dialog</span> <span class="na">id=</span><span class="s">"CreateTutorialDialog"</span> <span class="na">button-text=</span><span class="s">"Create Tutorial"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;form-single</span> <span class="na">name=</span><span class="s">"CreateTutorial"</span> <span class="na">transition=</span><span class="s">"createTutorial"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;auto-fields-entity</span> <span class="na">entity-name=</span><span class="s">"tutorial.Tutorial"</span> <span class="na">field-type=</span><span class="s">"edit"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"submitButton"</span><span class="nt">&gt;</span>
<span class="nt">&lt;default-field</span> <span class="na">title=</span><span class="s">"Create"</span><span class="nt">&gt;&lt;submit/&gt;&lt;/default-field&gt;</span>
        <span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;/form-single&gt;</span>
<span class="nt">&lt;/container-dialog&gt;</span>
</code></pre></div> <p><strong>Case 1:</strong></p> <p>use auto entity-auto service call: will check against ENTITY definition rules</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;transition</span> <span class="na">name=</span><span class="s">"createTutorial"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;service-call</span> <span class="na">name=</span><span class="s">"create#tutorial.Tutorial"</span><span class="nt">/&gt;</span>
    <span class="c">&lt;!--&lt;service-call name="tutorial.TutorialServices.create#Tutorial"/&gt;--&gt;</span>
    <span class="nt">&lt;default-response</span> <span class="na">url=</span><span class="s">"."</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/transition&gt;</span>
</code></pre></div> <p>Result: PK ID requried</p> <p><strong>Case 2:</strong></p> <p>use user defined service call: Field validation will depend on service call. Hence, the user-defined services must implement parameters validation.</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;transition</span> <span class="na">name=</span><span class="s">"createTutorial"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!--&lt;service-call name="create#tutorial.Tutorial"/&gt;--&gt;</span>
<span class="nt">&lt;service-call</span> <span class="na">name=</span><span class="s">"tutorial.TutorialServices.create#Tutorial"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;default-response</span> <span class="na">url=</span><span class="s">"."</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/transition&gt;</span>
</code></pre></div> <p>Service definition:</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;service</span> <span class="na">verb=</span><span class="s">"create"</span> <span class="na">noun=</span><span class="s">"Tutorial"</span> <span class="na">type=</span><span class="s">"inline"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;in-parameters&gt;</span>
        <span class="nt">&lt;auto-parameters</span> <span class="na">include=</span><span class="s">"all"</span><span class="nt">/&gt;</span> <span class="c">&lt;!-- PK (tutorialId) is not required in parameters--&gt;</span>
    <span class="nt">&lt;/in-parameters&gt;</span>
    <span class="nt">&lt;out-parameters&gt;</span>
        <span class="nt">&lt;auto-parameters</span> <span class="na">include=</span><span class="s">"pk"</span> <span class="na">required=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/out-parameters&gt;</span>
    <span class="nt">&lt;actions&gt;</span>
        <span class="nt">&lt;entity-make-value</span> <span class="na">entity-name=</span><span class="s">"tutorial.Tutorial"</span> <span class="na">value-field=</span><span class="s">"tutorial"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;entity-set</span> <span class="na">value-field=</span><span class="s">"tutorial"</span> <span class="na">include=</span><span class="s">"all"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;if</span> <span class="na">condition=</span><span class="s">"!tutorial.tutorialId"</span><span class="nt">&gt;</span>
<span class="nt">&lt;entity-sequenced-id-primary</span> <span class="na">value-field=</span><span class="s">"tutorial"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/if&gt;</span>
        <span class="nt">&lt;entity-create</span> <span class="na">value-field=</span><span class="s">"tutorial"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/actions&gt;</span>
<span class="nt">&lt;/service&gt;</span>
</code></pre></div> <p>Result: PK ID not requried</p> <h2 id="form-extends">Form extends</h2> <p>Enxtends an existing form</p> <p><strong>Syntax:</strong> - From external screen: <code class="highlighter-rouge">extends="&lt;screen path&gt;#&lt;form name&gt;”</code> - From same screen: <code class="highlighter-rouge">extends="&lt;form name&gt;”</code></p> <p><strong>Example:</strong></p> <p>Existing form: defined in file component/SimpleScreens/template/party/PartyForms.xml</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;form-single</span> <span class="na">name=</span><span class="s">"ContactInfo"</span> <span class="na">transition=</span><span class="s">"storeContactInfo"</span> <span class="na">map=</span><span class="s">"contactInfoFlat"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"partyId"</span><span class="nt">&gt;&lt;default-field&gt;&lt;hidden/&gt;&lt;/default-field&gt;&lt;/field&gt;</span>

    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"postalContactMechId"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;conditional-field</span> <span class="na">condition=</span><span class="s">"postalContactMechPurposeId"</span><span class="nt">&gt;&lt;hidden/&gt;&lt;/conditional-field&gt;</span>
        <span class="nt">&lt;default-field&gt;&lt;ignored/&gt;&lt;/default-field&gt;</span>
    <span class="nt">&lt;/field&gt;</span>
…
<span class="nt">&lt;/form-single&gt;</span>
</code></pre></div> <p>New form:</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;form-single</span> <span class="na">name=</span><span class="s">"BillingInfo"</span> <span class="na">transition=</span><span class="s">"storeContactInfo"</span> <span class="na">map=</span><span class="s">"billingInfoFlat"</span>
        <span class="na">extends=</span><span class="s">"component://SimpleScreens/template/party/PartyForms.xml#ContactInfo"</span><span class="nt">/&gt;</span>
(defind new fields, or overrided fields)
<span class="nt">&lt;/form-single&gt;</span>
</code></pre></div> <h2 id="manipulate-error-message">Manipulate Error Message</h2> <p>Return Message/Error message to Screen In service implementation (<actions>), or screen ‘s transition actions:</actions></p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;actions&gt;</span>
...
<span class="nt">&lt;message</span> <span class="na">error=</span><span class="s">"true"</span><span class="nt">&gt;</span> Message to be displayed <span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/actions&gt;</span>
</code></pre></div> <p><code class="highlighter-rouge">error</code>: If <code class="highlighter-rouge">true</code> will be considered caused by an error, meaning transaction will be rolled back, etc.</p> <p><strong>Usage:</strong> Should use error=”true” at middle of processing to rollback the transaction. If the check/validation is at the beginning of screen transition, error=”false” is enough</p> <p><strong>Implementation in service:</strong> eci.message.addValidationError</p> <p><strong>Display message in Screen:</strong></p> <p>in apps.xml</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;section</span> <span class="na">name=</span><span class="s">"MessagesSection"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;widgets&gt;</span>
        <span class="nt">&lt;section-iterate</span> <span class="na">name=</span><span class="s">"headerMessages"</span> <span class="na">list=</span><span class="s">"ec.message.messages"</span> <span class="na">entry=</span><span class="s">"message"</span><span class="nt">&gt;</span>
            ...
        <span class="nt">&lt;/section-iterate&gt;</span>
        <span class="nt">&lt;section-iterate</span> <span class="na">name=</span><span class="s">"headerErrors"</span> <span class="na">list=</span><span class="s">"ec.message.errors"</span> <span class="na">entry=</span><span class="s">"errorMessage"</span><span class="nt">&gt;</span>
            ...
        <span class="nt">&lt;/section-iterate&gt;</span>
        <span class="nt">&lt;section-iterate</span> <span class="na">name=</span><span class="s">"headerValidationErrors"</span> <span class="na">list=</span><span class="s">"ec.message.validationErrors"</span> <span class="na">entry=</span><span class="s">"validationError"</span><span class="nt">&gt;</span>
            <span class="c">&lt;!-- TODO: put these by fields instead of in header --&gt;</span>
        <span class="nt">&lt;/section-iterate&gt;</span>
...
</code></pre></div> <h2 id="build-a-complex-screen">Build a complex screen</h2> <h3 id="problem-1---a-menu-with-many-independent-screens">Problem 1 - A menu with many independent screens</h3> <h4 id="problem-description">Problem Description</h4> <p>We needs to build a Menu “Tools” with has following sub menu, each will be a completed screen:</p> <ul> <li>Wiki</li> <li>Entity View</li> </ul> <h4 id="solution">Solution</h4> <p>File structure (file without extension is folder)</p> <div class="highlighter-rouge"><pre class="highlight"><code>- Tools
---- Wiki.xml
---- EntityView.xml
- Tools.xml
</code></pre></div> <p><strong>Main Screen design:</strong></p> <blockquote> <p><strong>Important:</strong></p> <ul> <li>Atrribute <code class="highlighter-rouge">default-menu-include="true"</code> (default value) will display main screen <em>Tools</em> in master menu</li> <li>Widget element <code class="highlighter-rouge">&lt;subscreens-panel type="popup"/&gt;</code> is required to render the subscreens as popup menu</li> </ul> </blockquote> <p>Tools.xml</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;screen</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"http://moqui.org/xsd/xml-screen-2.0.xsd"</span>
        <span class="na">default-menu-title=</span><span class="s">"Tools"</span> <span class="na">default-menu-index=</span><span class="s">"1"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;subscreens</span> <span class="na">default-item=</span><span class="s">"Wiki"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;widgets&gt;</span>
        <span class="nt">&lt;subscreens-panel</span> <span class="na">id=</span><span class="s">"tools-panel"</span> <span class="na">type=</span><span class="s">"popup"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/widgets&gt;</span>
<span class="nt">&lt;/screen&gt;</span>
</code></pre></div> <p><strong>Sub Screen design:</strong></p> <blockquote> <p><strong>Important:</strong></p> <ul> <li>Atrribute <code class="highlighter-rouge">default-menu-include="true"</code> (default value) will display sub screen, i.e <em>Wiki</em>, inside the menu _Tools</li> </ul> </blockquote> <p>Wiki.xml</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;screen</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"http://moqui.org/xsd/xml-screen-2.0.xsd"</span> <span class="na">default-menu-title=</span><span class="s">"Wiki"</span> <span class="na">default-menu-include=</span><span class="s">"true"</span> <span class="na">default-menu-index=</span><span class="s">"1"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- define screen components if required here--&gt;</span>
<span class="nt">&lt;/screen&gt;</span>
</code></pre></div> <p>EntityView.xml</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;screen</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"http://moqui.org/xsd/xml-screen-2.0.xsd"</span> <span class="na">default-menu-title=</span><span class="s">"Entity View"</span> <span class="na">default-menu-include=</span><span class="s">"true"</span> <span class="na">default-menu-index=</span><span class="s">"2"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- define screen components if required here--&gt;</span>
<span class="nt">&lt;/screen&gt;</span>
</code></pre></div> <h3 id="problem-2---a-search-screen-and-multi-tabs-screen-for-each-record">Problem 2 - A search screen and multi-tabs screen for each record</h3> <h4 id="problem-description-1">Problem Description</h4> <p>We needs to build a screen which Search/List accounts and a screen “Account” with has 3 tabs:</p> <ul> <li>Account main info</li> <li>All contacts of this account</li> <li>List of Account’s Addresses</li> </ul> <h4 id="solution-1">Solution</h4> <p>File structure (file without extension is folder)</p> <div class="highlighter-rouge"><pre class="highlight"><code>- Account
---- FindAccount.xml
---- EditAccount.xml
---- Contact.xml
---- Address.xml
- Account.xml
</code></pre></div> <p><strong>Main Screen design:</strong></p> <blockquote> <p><strong>Important:</strong></p> <ul> <li>Atrribute <code class="highlighter-rouge">default-menu-include="true"</code> (default value) will display main screen <em>Account</em> in master menu</li> <li>Widget element <code class="highlighter-rouge">&lt;subscreens-panel type="tab"/&gt;</code> is required to render the subscreens, which are defined to be displayed in menu, as tabs of one screen</li> </ul> </blockquote> <p>Account.xml</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;screen</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"http://moqui.org/xsd/xml-screen-2.0.xsd"</span> <span class="na">default-menu-title=</span><span class="s">"Account"</span> <span class="na">default-menu-index=</span><span class="s">"1"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;subscreens</span> <span class="na">default-item=</span><span class="s">"FindAccount"</span><span class="nt">/&gt;</span>
    <span class="c">&lt;!-- show Search Screen first --&gt;</span>
    <span class="nt">&lt;widgets&gt;</span>
        <span class="nt">&lt;subscreens-panel</span> <span class="na">id=</span><span class="s">"Account-panel"</span> <span class="na">type=</span><span class="s">"tab"</span><span class="nt">/&gt;</span>
        <span class="c">&lt;!--required to render the subscreens, which are defined to be displayed in menu, as tabs of one screen--&gt;</span>
    <span class="nt">&lt;/widgets&gt;</span>
<span class="nt">&lt;/screen&gt;</span>
</code></pre></div> <p><strong>Sub Screen design:</strong></p> <blockquote> <p><strong>Important:</strong></p> <ul> <li>the default screen (FindAccount.xml) isn’t needed to be displayed in the Menu or the Tabbed Screen. Hence, its definition has atrribute <code class="highlighter-rouge">default-menu-include="false"</code></li> <li>Atrribute <code class="highlighter-rouge">default-menu-include="true"</code> (default value) will display all sub screens as a Tabbed Screen, i.e <em>Account/ Contacts/ Addresses</em>, inside the menu <em>Account</em></li> </ul> </blockquote> <p>FindAccount.xml</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;screen</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"http://moqui.org/xsd/xml-screen-2.0.xsd"</span> <span class="na">default-menu-title=</span><span class="s">"Find Accounts"</span> <span class="na">default-menu-include=</span><span class="s">"false"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- define screen components if required here--&gt;</span>
<span class="nt">&lt;/screen&gt;</span>
</code></pre></div> <p>EditAccount.xml</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;screen</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"http://moqui.org/xsd/xml-screen-2.0.xsd"</span> <span class="na">default-menu-title=</span><span class="s">"Main Account Info"</span> <span class="na">default-menu-include=</span><span class="s">"true"</span> <span class="na">default-menu-index=</span><span class="s">"1"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- define screen components if required here--&gt;</span>
<span class="nt">&lt;/screen&gt;</span>
</code></pre></div> <p>Contact.xml</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;screen</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"http://moqui.org/xsd/xml-screen-2.0.xsd"</span> <span class="na">default-menu-title=</span><span class="s">"Contacts"</span> <span class="na">default-menu-include=</span><span class="s">"true"</span> <span class="na">default-menu-index=</span><span class="s">"2"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- define screen components if required here--&gt;</span>
<span class="nt">&lt;/screen&gt;</span>
</code></pre></div> <p>Address.xml</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;screen</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"http://moqui.org/xsd/xml-screen-2.0.xsd"</span> <span class="na">default-menu-title=</span><span class="s">"Addresses"</span> <span class="na">default-menu-include=</span><span class="s">"true"</span> <span class="na">default-menu-index=</span><span class="s">"3"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- define screen components if required here--&gt;</span>
<span class="nt">&lt;/screen&gt;</span>
</code></pre></div> <h2 id="reuse-screen-components">Reuse screen components</h2> <h3 id="overview-1">Overview</h3> <ul> <li>subscreens-item</li> <li>include-screen</li> <li>form extends: see <a href="#form-extends">Form extends</a></li> <li>transition-include</li> <li>section-include</li> <li>Include a widget-template</li> <li>Include a html in widget</li> </ul> <h3 id="subscreens-item">subscreens-item</h3> <p>We can reuse a existing Screen without explicit redeisng it (or copy/paste).</p> <p>After declaration the subscreen, we can use it in transition’s url or render it to display as normal:</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;subscreens-item</span> <span class="na">name=</span><span class="s">"ScreenName"</span> <span class="na">location=</span><span class="s">"resource location"</span><span class="nt">/&gt;</span>
</code></pre></div> <p>Example: <code class="highlighter-rouge">&lt;subscreens-item name="UpdateContactInfo" location="component://SimpleScreens/screen/SimpleScreens/Party/EditParty/UpdateContactInfo.xml"/&gt;</code></p> <h3 id="section-include">section-include</h3> <h3 id="transition-include">transition-include</h3> <h3 id="include-a-widget-template">Include a widget-template</h3> <p>Template Definition</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;widget-template</span> <span class="na">name=</span><span class="s">"enumDropDown"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;drop-down</span> <span class="na">allow-empty=</span><span class="s">"${allowEmpty ?: 'false'}"</span> <span class="na">no-current-selected-key=</span><span class="s">"${noCurrentSelectedKey?:''}"</span>
    <span class="na">style=</span><span class="s">"${style?:''}"</span> <span class="na">allow-multiple=</span><span class="s">"${allowMultiple ?: 'false'}"</span><span class="nt">&gt;</span>
<span class="nt">&lt;entity-options</span> <span class="na">key=</span><span class="s">"${enumId}"</span> <span class="na">text=</span><span class="s">"${description}"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;entity-find</span> <span class="na">entity-name=</span><span class="s">"moqui.basic.Enumeration"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;econdition</span> <span class="na">field-name=</span><span class="s">"enumTypeId"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;order-by</span> <span class="na">field-name=</span><span class="s">"description"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/entity-find&gt;</span>
<span class="nt">&lt;/entity-options&gt;</span>
        <span class="nt">&lt;/drop-down&gt;</span>
<span class="nt">&lt;/widget-template&gt;</span>
</code></pre></div> <p>Using template</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;widget-template-include</span> <span class="na">location=</span><span class="s">"component://webroot/template/screen/BasicWidgetTemplates.xml#enumDropDown"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- assign variables used in template if required --&gt;</span>
    <span class="nt">&lt;set</span> <span class="na">field=</span><span class="s">"enumTypeId"</span> <span class="na">value=</span><span class="s">"ProductPriceType"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;set</span> <span class="na">field=</span><span class="s">"allowEmpty"</span> <span class="na">value=</span><span class="s">"true"</span><span class="nt">/&gt;&lt;set</span> <span class="na">field=</span><span class="s">"style"</span> <span class="na">value=</span><span class="s">" "</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/widget-template-include&gt;</span>
</code></pre></div> <p><strong>Include a html in widget</strong></p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;widgets&gt;&lt;render-mode&gt;&lt;text</span> <span class="na">type=</span><span class="s">"html"</span> <span class="na">location=</span><span class="s">"component://SimpleScreens/template/party/ContactInfo.html.gstring"</span><span class="nt">/&gt;&lt;/render-mode&gt;&lt;/widgets&gt;</span>
</code></pre></div> <h1 id="brief-of-screen-components">Brief of Screen components</h1> <h2 id="screen-root">screen (root)</h2> <h3 id="attributes">Attributes</h3> <ul> <li><strong>require-authentication</strong>: type=true/false/anonymous-all/anonymous-view default=”true”</li> <li><strong>include-child-content</strong>: <em>will check</em></li> <li><strong>standalone</strong>: If set to true this screen will be rendered without rendering any parent screens. It can still be referred to as a subscreen of its parent, but when rendered the parent will not run, the rendering will start at this screen. Any non-standalone children will still be treated as normal subscreens.</li> <li><strong>default-menu-title</strong></li> <li><strong>default-menu-index</strong></li> <li><strong>default-menu-include</strong>: type=”boolean” default=”true” Set this to false to not automatically appear in the parent’s subscreens menu based on the directory it is in. If true this screen will automatically be included in the parent’s subscreens menu.</li> <li><strong>menu-image</strong></li> <li><strong>menu-image-type</strong></li> </ul> <h3 id="children-elements">Children elements</h3> <h4 id="parameter">parameter</h4> <ul> <li>minOccurs=”0” maxOccurs=”unbounded”</li> <li>documentation: These are the parameters the screen expects or allows to be passed in, and where the calling screen can get them from by default (usually just default to the same from, but can be a static value for default or whatever). Individual transition, transition.*-response and other elements can override where the parameter comes from with their own parameter sub-elements.</li> </ul> <h4 id="always-actions">always-actions</h4> <ul> <li>minOccurs=”0”</li> <li>documentation: These actions always run when this screen appears in a screen path, including both screen rendering and transition running. One difference between this and the pre-actions element is that this runs before transitions are processed while pre-actions do not. The always-actions also run for all screens in a path while the pre-actions only run for screens that will be rendered.</li> </ul> <h4 id="pre-actions">pre-actions</h4> <ul> <li>minOccurs=”0”</li> <li>documentation: These actions run before any of the screens (this screen or any parent screens) are rendered, allowing you to set parameters used by parent screens or other general reasons.</li> </ul> <h4 id="actions">actions</h4> <ul> <li>minOccurs=”0”</li> </ul> <h4 id="subscreens">subscreens</h4> <h4 id="transition">transition</h4> <h4 id="transition-include-1">transition-include</h4> <h2 id="transition-1">transition</h2> <h3 id="attributes-1">Attributes</h3> <ul> <li> <p><strong>name</strong> Transition names should be camel-cased and start with an lower-case letter (whereas screen filenames and subscreens-item names start with a upper-case letter).</p> <p>The transition name is used in link and other elements in place of URLs when going to another screen within this application. The transition name will appear briefly as the URL before the redirect is done for the transition response.</p> </li> <li><strong>method</strong> any/put/get/post/delete</li> <li><strong>begin-transaction</strong> type=”boolean” default=”true”</li> <li> <p><strong>read-only</strong> type=”boolean” default=”false” Declare that this transition does only read operations to skip the check for insecure parameters.</p> </li> <li><strong>require-session-token</strong> default=”true” type=”boolean” If not false (default true) moquiSessionToken (from ec.web.sessionToken) must be passed to this transition for all requests in a session after the first.</li> </ul> <h3 id="children-elements-1">Children elements</h3> <p>#### parameter These are the parameters the transition expects or allows to be passed in, and where the calling screen can get them from by default (usually just default to the same from, but can be a static value for default or whatever).</p> <p>These are in addition to the screen.parameter values. Individual transition.*-response and other elements can override where the parameter comes from with their own parameter sub-elements.</p> <h4 id="path-parameter">path-parameter</h4> <p>These are additional path elements after the transition’s path element. The values will be added to the web parameters based on the order of these path-elements.</p> <h4 id="condition">condition</h4> <p>This condition is run wherever this transition is referenced in the screen to see if the transition is available (otherwise the button/link/etc is disabled).</p> <h4 id="service-call">service-call</h4> <p>NOTE: service-call &amp; actions are mutual exclusive In most cases the best way to handle input for a transition is with a single service. To do that use this element instead of an actions element.</p> <p>This will automatically have an in-map=true. To get the same effect inside the actions element just use in-map=true.</p> <h4 id="actions-1">actions</h4> <p>NOTE: service-call &amp; actions are mutual exclusive</p> <p>When this transition is followed these actions are run.</p> <p>After the actions are run it goes to the url that this transition goes to (through client-side redirect, dynamic update of a screen area, etc).</p> <h4 id="conditional-response">conditional-response</h4> <p>If there are multiple transition-response sub-elements the first one whose condition evaluates to true will be the one used. If no conditional responses match, the default-response will be used.</p> <h4 id="default-response">default-response</h4> <p>This response must always be defined and is the response that will be used if there is no error in the actions, and if none of the conditions in conditional responses evaluate to true.</p> <h4 id="error-response">error-response</h4> <p>If there is an error in evaluating the actions on this transition then the error-response will be used and the transition-response element(s) will be ignored.</p> <p>If there are actions and there is no error-response defined then the default error response will be used.</p> <h2 id="subscreens-1">subscreens</h2> <p>Declare subscreens for this screen. One subscreen at a time is active, based on the “screen path” used to access this screen. The parent screen (this screen) will be the current element in the screen path and the next screen path element will be the name of the subscreen of this screen to use.</p> <p>If there is no additional element in the screen path or the next element is not a valid subscreen-item.name then the default-item will be the active subscreen.</p> <p>There are three ways to add subscreens to a screen:</p> <ol> <li>for screens within a single application: by directory structure: create a directory in the directory where the parent screen is named the same as the parent screen’s filename and put XML Screen files in that directory (name=filename up to .xml, title=screen.default-title, location=parent screen minus filename plus directory and filename for subscreen)</li> <li>for including screens that are part of another application, or shared and not in any application: subscreens-item elements below the screen -&gt; subscreens element (this element)</li> <li>for adding screens, removing screens, or changing order and title of screens to an existing application: a record in the moqui.screen.SubscreensItem entity</li> </ol> <p>There are two visual elements (widgets) that come from the subscreens, a menu and the active subscreen. Those are included with the widgets using the “subscreens-menu” and “subscreens-active” elements, or the “subscreens-panel” element.</p> <h3 id="attributes-2">Attributes</h3> <ul> <li> <p><strong>default-item</strong> The name of the default subscreen-item. Used when then screen-path ends on this screen so we know which subscreen-item to activate.</p> <p>If empty the first subscreen-item will be the default.</p> </li> </ul> <h3 id="children-elements-2">Children elements</h3> <h4 id="subscreens-item-1">subscreens-item</h4> <div class="highlighter-rouge"><pre class="highlight"><code> One way to add a subscreen. This is most commonly used to refer to a subscreen that is located in another application, another part of this application, that is not in any application and is meant to be shared, or is in a different type of location than the parent screen.

One subscreens-item is active at a time, meaning that screen is shown and the tab/etc for that screen is highlighted.
</code></pre></div> <h4 id="conditional-default">conditional-default</h4> <div class="highlighter-rouge"><pre class="highlight"><code>use a `condition`, which is a Groovy condition expression (evaluates to a boolean) used to determine if the specified subscreens item is the one to use by default instead of the on specified in the subscreens.@default-item attribute.
</code></pre></div> <h2 id="subscreens-menu">subscreens-menu</h2> <h3 id="attributes-3">Attributes</h3> <ul> <li><strong>type</strong> tab/ popup/ popup-tree, default=”tab”</li> <li><strong>id</strong> use=”required”</li> <li><strong>title</strong></li> <li><strong>width</strong></li> <li><strong>header-menus-id</strong> type=”xs:string” default=”header-menus”</li> </ul> <h2 id="widgets">widgets</h2> <h3 id="attributes-4">Attributes</h3> <ul> <li><strong>name</strong></li> </ul> <h3 id="subscreens-active">subscreens-active</h3> <h3 id="subscreens-panel">subscreens-panel</h3> <h3 id="include-screen">include-screen</h3> <ul> <li><strong>location</strong> required</li> <li><strong>share-scope</strong> default=”false” type=”boolean”</li> </ul> <h3 id="render-mode">render-mode</h3> <ul> <li>Include a text &amp; render screen. Currently, there’s only 1 child element: text.</li> </ul> <p><strong>Attributes of text</strong></p> <ul> <li><strong>type</strong> default=”any” Can be anything. Default supported values include: text, cwiki, html, xsl-fo, xml, and csv.A value of “any” will cause it to be used if no other element matches the current output type.</li> <li><strong>location</strong> This is the template or text file location and can be any location supported by the Resource Facade including file, http, component, content, etc.</li> <li> <p><strong>template</strong> type=”boolean” default=”true” Interpret the text at the location as an FTL or other template? Supports any template type supported by the Resource Facade. Defaults to true, set to false if you want the text included literally.</p> </li> <li><strong>encode</strong> default=”false” type=”boolean” If true the text will be encoded so that it does not interfere with markup of the target output. Templates ignore this setting and are never encoded. For example, if output is HTML then data presented will be HTML encoded so that all HTML-specific characters are escaped.</li> </ul> <h3 id="section">section</h3> <ul> <li><strong>name</strong> &gt;A name for the section, used for reference within the screen. Must be specified and must be unique within the screen</li> <li><strong>condition</strong> A condition expression, just like the section.condition.expression element but more concise.</li> </ul> <h3 id="section-iterate">section-iterate</h3> <ul> <li><strong>name</strong> &gt;A name for the section, used for reference within the screen.</li> <li><strong>list</strong> The name of the field that contains the list to iterate over.</li> <li><strong>entry</strong> The name of the field that will contain each entry as we iterate through the list.</li> <li><strong>key</strong> If list points to a Map or List of MapEntry the key will be put where this refers to, the value where the entry attribute refers to.</li> <li><strong>condition</strong> A condition expression, just like the section-iterate.condition.expression element but more concise.</li> </ul> <h3 id="section-include-1">section-include</h3> <ul> <li><strong>name</strong> &gt;A name for the section, used for reference within the screen. Must be specified and must be unique within the screen</li> <li><strong>location</strong> Location of the screen containing the section to include. Example: <code class="highlighter-rouge">location="component path to ScreenName.xml#SectionNameToBeIncluded"</code></li> </ul> <h4 id="container">container</h4> <h4 id="container-box">container-box</h4> <h4 id="container-row">container-row</h4> <div class="highlighter-rouge"><pre class="highlight"><code>A responsive 12-column grid row. For the concept and one possible implementation see http://getbootstrap.com/css/#grid
</code></pre></div> <h3 id="container-panel">container-panel</h3> <p>This panel can have up to five areas: header, left, center, right, footer. Only the center area is required. This can be re-used within the different areas as well, usually just the center area but could be used to split up even the header and footer.</p> <p>If there is an id for the outer container, and each area will have an automatic id as well (with a suffix of: _header, _left, _center, _right, _footer).</p> <p><strong><em>Attributes:</em></strong> - <strong>panel-center</strong> required - <strong>dynamic</strong> default=”false” type=”boolean”. When true uses a dynamic layout, by default with jQuery Layout (see http://layout.jquery-dev.net/). When false (default) uses a static HTML/CSS layout.</p> <h3 id="container-dialog">container-dialog</h3> <p>The contents start out hidden with only a button with the button-text on it. When the button is clicked on a dialog opens to show the contents.</p> <h3 id="tree">tree</h3> <h1 id="brief-of-form-elements">Brief of Form elements</h1> <h2 id="common-elements">Common elements</h2> <p>These elements are used in both <code class="highlighter-rouge">form-single</code> and <code class="highlighter-rouge">form-list</code></p> <h3 id="auto-fields-entity">auto-fields-entity</h3> <p>Automatically generate list of fields based on entity definition.</p> <blockquote> <p>When a form has <em>dynamic=true</em> and a <em>${}</em> string expansion in the <em>auto-field-sentity.entity-name</em> attribute then it will be expanded on the fly as the screen is rendered, meaning a single form can be used to generate tabular HTML or CSV output for any entity given an entity name as a screen parameter.</p> </blockquote> <p><strong>Attributes</strong> - <strong>entity-name</strong> required - <strong>field-type</strong> default=”find-display”, value in [edit, find, display, find-display, hidden] - <strong>include</strong> default=”all”, value in [pk, nonpk, all] type of entity fields to be included in the form</p> <h3 id="auto-fields-service">auto-fields-service</h3> <blockquote> <p><em>Notes</em>: One important note about forms based on a service (using the <em>auto-fields-service</em> element) is that various client-side validations will be added automatically based on the validations defined for the service the form field corresponds to.</p> </blockquote> <p>This is only true if <strong>service-name</strong> is a user defined serivce, otherwise (if this is entity-auto service) the rule will be applied as if it’s auto-fields-entity: includes all fields of ENTITY, but in <code class="highlighter-rouge">edit</code> mode</p> <p><strong>Attributes</strong> - <strong>service-name</strong> required - <strong>field-type</strong> default=”edit”, value in [edit, find, display, find-display, hidden] - <strong>include</strong> default=”in”, value in [in, out, all] type of service parameters to be included in the form</p> <h3 id="field">field</h3> <h2 id="form-single">form-single</h2> <p>A single form is used to view or edit fields of a single map/hash/record/etc</p> <h3 id="attributes-5">Attributes</h3> <ul> <li><strong>name</strong> The name of the form. Used to reference the form along with the XML Screen file location. For HTML output this is the form name and id, and for other output may also be used to identify the part of the output corresponding to the form. Form name must be unique in the screen. System can’t check this rule but the rendering will have problem if there’s duplication in form name</li> <li><strong>extends</strong> The location and name separated by a hash/pound sign (#) of the form to extend. If there is no location it is treated as a form name in the current screen.</li> <li><strong>transition</strong> The transition in the current screen to submit the form to.</li> <li><strong>map</strong> The Map to get field values from. Is often a EntityValue object or a Map with data pulled from various places to populate in the form. Map keys are matched against field names. This is ignored if the field.entry-name attribute is used, that is evaluated against the context in place at the time each field is rendered. Defaults to “fieldValues”.</li> <li><strong>focus-field</strong> The name of the field to focus on when the form is rendered.</li> <li><strong>skip-start</strong> type=”boolean” default=”false” Skip the starting rendered elements of the form. When used after a form with skip-end=true this will effectively combine the forms into one</li> <li><strong>skip-end</strong> type=”boolean” default=”false” Skip the ending rendered elements of the form. Use this to leave a form open so that additional forms can be combined with it.</li> <li><strong>dynamic</strong> type=”boolean” default=”false” If true this form will be considered dynamic and the internal definition will be built up each time it is used instead of only when first referred to. This is necessary when auto-fields-* elements have ${} string expansion for service or entity names.</li> <li><strong>background-submit</strong> type=”boolean” default=”false” Submit the form in the background without reloading the screen.</li> <li><strong>background-reload-id</strong> After the form is submitted in the background reload the dynamic-container with this id.</li> <li><strong>background-hide-id</strong> After the form is submitted in the background hide the element (usually a dialog) with the specified id.</li> <li><strong>background-message</strong> After the form is submitted in the background show this message in a dialog.</li> </ul> <h3 id="children-elements-3">Children elements</h3> <h4 id="field-layout">field-layout</h4> <h2 id="form-list">form-list</h2> <p>A list form is a list of individual forms in a table (could be called a tabular form), it has a list of sets of values and creates one form for each list element. A variation on the list form is the multi form (set the attribute multi=true). In the multi mode all list elements will be put into a single large form with suffixes on each field for each row, with a single submit button at the bottom instead of a submit button on each row.</p> <h3 id="attributes-6">Attributes</h3> <ul> <li><strong>name</strong></li> <li><strong>extends</strong></li> <li> <p><strong>transition</strong> all three attributes above are same as in <code class="highlighter-rouge">form-single</code></p> </li> <li><strong>row-actions</strong></li> <li> <p><strong>multi</strong> default=”false” type=”boolean” Make the form a multi-submit form where all rows on a page are submitted together in a single request with a “_${rowNumber}” suffix on each field. Also passes a _isMulti=true parameter so the Service Facade knows to run the service (a single service-call in a transition) for each row. Defaults to true, so set to false to disable this behavior and have a separate form (submitted separately) for each row.</p> </li> <li> <p><strong>list</strong> An expression that evaluates to a list to iterate over.</p> </li> <li><strong>list-entry</strong> If specified each list entry will be put in the context with this name, otherwise the list entry must be a Map and the entries in the Map will be put into the context for each row <em>Notes:</em> <ul> <li>if obmit, data binding in each field will automatically done using field name and the same key in context</li> <li>if this attribute is specified, must define <code class="highlighter-rouge">entry-name</code> explicitly for each field</li> </ul> </li> <li><strong>paginate</strong> type=”xs:string” default=”true” Indicate if this form should paginate or not. Defaults to true.</li> <li><strong>paginate-always-show</strong> type=”xs:string” default=”true” Always show the pagination control with count of rows, even when there is only one page? Defaults to true.</li> <li><strong>skip-start, skip-end</strong> same as in <code class="highlighter-rouge">form-single</code></li> <li><strong>skip-form</strong> type=”boolean” default=”false” Make the output a plain table, not submittable (in HTML don’t generate ‘form’ elements). Useful for view-only list forms to minimize output.</li> <li><strong>skip-header</strong> type=”boolean” default=”false” Skip the table header element.</li> <li><strong>header-dialog</strong> type=”boolean” default=”false” Put header-field widgets in a dialog instead of the table header. Includes all fields with header widgets, not just those displayed.</li> <li><strong>select-columns</strong> type=”boolean” default=”false” Enable per-user selection of which columns to display.</li> <li><strong>saved-finds</strong> type=”boolean” default=”false” Enable saved finds (query parameters, order by).</li> <li><strong>show-csv-button</strong> type=”boolean” default=”false” Show a button to export as CSV (renderMode=csv), if the pagination header is displayed</li> <li><strong>show-text-button</strong> type=”boolean” default=”false” Show a button to export as plain text (renderMode=text), if the pagination header is displayed</li> <li><strong>show-all-button</strong> type=”boolean” default=”false” Show a button to display all results (pageNoLimit=true), if the pagination header is displayed</li> <li><strong>dynamic</strong> type=”boolean” default=”false” If true this form will be considered dynamic and the internal definition will be built up each time it is used instead of only when first referred to. This is necessary when auto-fields-* elements have ${} string expansion for service or entity names.</li> <li><strong>background-submit</strong> type=”boolean” default=”false” Submit the form in the background without reloading the screen.</li> <li><strong>background-reload-id</strong> After the form is submitted in the background reload the dynamic-container with this id.</li> <li><strong>background-hide-id</strong> After the form is submitted in the background hide the element (usually a dialog) with the specified id.</li> <li><strong>background-message</strong> After the form is submitted in the background show this message in a dialog.</li> </ul> <h3 id="children-elements-4">Children elements</h3> <h4 id="form-list-column">form-list-column</h4> ... <i><a href="/moqui-screen-form/">[more]</a></i></p> <!-- consider `| strip_html`--> </section> </article> </section> </div> </div> <!-- /#page-content-wrapper --> </div> <!-- /#wrapper --> <!-- jQuery --> <!--/js/jquery.js--> <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script> <!-- Menu Toggle Script --> <script> $("#menu-toggle").click(function(e) { e.preventDefault(); $("#wrapper").toggleClass("toggled"); }); </script> <!-- Analytics --> <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-83154928-1','auto'); ga('send', 'pageview');</script> <script id="dsq-count-scr" src="//www-locnxg-com.disqus.com/count.js" async></script> </body> </html>
